<div class="graphtranslation_wrapper">
    <div class="graphtranslation_main">
    <!-- ******************平行四边形 start****************** -->
        <div class="parallelogram-box" style="left:4.8em;top:4.8em;">
            <!-- left:111 top:112 -->
            <div class="triangle triangle-up"></div>
            <div class="triangle triangle-down"></div>
            <div class="fictitious_line">
                <div class="line line-lt"></div>
                <div class="line line-rt"></div>
                <div class="line line-lb"></div>
                <div class="line line-rb"></div>
            </div>
            <div class="spot spot-t"  data-dir="t"></div>
            <div class="spot spot-lm" data-dir="lm"></div>
            <div class="spot spot-rm" data-dir="rm"></div>
            <div class="spot spot-b"  data-dir="b"></div>
        </div>
 

    

        <!-- <div class="parallelogram-box" style="left:16.2em;top:4.8em;">
                
                    <div class="triangle triangle-up"></div>
                    <div class="triangle triangle-down"></div>
                    <div class="parallelogram-triangle">
                        <div class="line line-lt"></div>
                        <div class="line line-rt"></div>
                        <div class="line line-lb"></div>
                        <div class="line line-rb"></div>
                    </div>
                    <div class="spot spot-t"></div>
                    <div class="spot spot-lm"></div>
                    <div class="spot spot-rm"></div>
                    <div class="spot spot-b"></div>
        </div> -->
        <!-- left:111 top:112 -->
        <!-- <div class="parallelogram-box parallelogram-box-shadow" style="position:absolute;left:26em;top:4.8em;">     
            <div class="triangle triangle-up"></div>
            <div class="triangle triangle-down"></div>
            <div class="fictitious_line">
                <div class="line line-lt"></div>
                <div class="line line-rt"></div>
                <div class="line line-lb"></div>
                <div class="line line-rb"></div>
            </div>
            <div class="spot spot-t"></div>
            <div class="spot spot-lm"></div>
            <div class="spot spot-rm" style="display:block"4></div>
            <div class="spot spot-b"  style="display:block"></div>
        </div> -->
        <!-- <div class="parallelogram-box" style="position:absolute; left:45.4em;top:4.8em;">     
                    <div class="triangle triangle-up"></div>
                    <div class="triangle triangle-down"></div>
                    <div class="parallelogram-triangle">
                        <div class="line line-lt"></div>
                        <div class="line line-rt"></div>
                        <div class="line line-lb"></div>
                        <div class="line line-rb"></div>
                    </div>
                    <div class="spot spot-t"></div>
                    <div class="spot spot-lm"></div>
                    <div class="spot spot-rm"></div>
                    <div class="spot spot-b"></div>
        </div> -->

    <!-- ******************平行四边形 end****************** -->



    <!-- ******************三角形 start reflection****************** -->
        <div class="arrowhead-box" style=" left:4.8em;top:17.7em; display:none">            
            <div class="triangle-up"></div>
            <div class="pillar"></div>
           
            <div class="fictitious_line">
                <div class="line line-lt"></div>
                <div class="line line-rt"></div>
                <div class="line line-lc"></div>
                <div class="line line-rc"></div>
            </div>
            
            <div class="spot spot-t"></div>
            <div class="spot spot-lm"></div>
            <div class="spot spot-rm"></div>
            <div class="spot spot-lb"></div>
            <div class="spot spot-rb"></div>
        </div>
        <!-- <div class="arrowhead-box" style="position:absolute; left:16.2em;top:17.7em;">
            <div class="triangle-up"></div>
            <div class="pillar"></div>
           
            <div class="fictitious_line">
                <div class="line line-lt"></div>
                <div class="line line-rt"></div>
                <div class="line line-lc"></div>
                <div class="line line-rc"></div>
            </div>
            
            <div class="spot spot-t"></div>
            <div class="spot spot-lm"></div>
            <div class="spot spot-rm"></div>
            <div class="spot spot-lb"></div>
            <div class="spot spot-rb"></div>
        </div> -->



        <!-- <div class="arrowhead-box arrowhead-box-shadow" style="position:absolute; left:26em;top:17.7em;">            
            <div class="triangle-up"></div>
            <div class="pillar"></div>
           
            <div class="fictitious_line">
                <div class="line line-lt"></div>
                <div class="line line-rt"></div>
                <div class="line line-lc"></div>
                <div class="line line-rc"></div>

            </div>
            
            <div class="spot spot-t"></div>
            <div class="spot spot-lm"></div>
            <div class="spot spot-rm"  style="display: block"></div>
            <div class="spot spot-lb"></div>
            <div class="spot spot-rb"  style="display: block"></div>
        </div>
        <div class="arrowhead-box" style="position:absolute; left:45.4em;top:17.7em;">
            <div class="triangle-up"></div>
            <div class="pillar"></div>
           
            <div class="fictitious_line">
                <div class="line line-lt"></div>
                <div class="line line-rt"></div>
                <div class="line line-lc"></div>
                <div class="line line-rc"></div>
            </div>
            
            <div class="spot spot-t"></div>
            <div class="spot spot-lm"></div>
            <div class="spot spot-rm"  style="display: block"></div>
            <div class="spot spot-lb"></div>
            <div class="spot spot-rb"  style="display: block"></div>
        </div> -->
        <div class="graphtranslation_range" style="left:32.5em;top:20.9em; width:19.8em; display:none">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
        </div>
        
    <!-- ******************平行四边形 end****************** -->
    </div>
</div>




<!-- ***********测试代码请删除 start ************* -->
<div style="position: fixed; left:30%; top:0;">
    <select id="J_sel">
        <option value="1" selected>菱形</option>
        <option value="2">左右三角形</option>
    </select>
    <label style="font-size: 16px;padding-right: 15px;"><input type="number" id="J_number" style="width:50px;" />方格</label><button id="J_movebtn">移动</button>
    <button disabled="disabled" id="J_point">选择顶点</button>
    <button id="J_reset">重置</button>
</div>
<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript">
    $(function(){
        var $sel=$("#J_sel"),
            $reset=$("#J_reset"),
            $point=$("#J_point"),
            $num=$("#J_number"),
            $mainBox=$('.graphtranslation_main'),
            $moveBtn=$("#J_movebtn");
        var initCssRule={
            left:"4.8em",
            top:"4.8em",
            transform:"translate(0,0)",
            display:"block"
        };
        var reflectionClass="reflection";
        var $currGraph,currClassName,$reflectionGraph;
        var spotPos={shadow:{},matter:{}};

        //初始化或者重置图形
        var renderInitGraph=function(val){
            var classNameArr=["parallelogram-box","arrowhead-box"];
            var currClassName="";
            switch(val){
                case 1:
                    currClassName=classNameArr[0];
                    break;
                case 2:
                    currClassName=classNameArr[1];
                    break;
                default:
                    currClassName=classNameArr[0];
                    break;
            }
            $.each(classNameArr,function(index,classNameVal){  
                if(classNameVal==currClassName){
                    $("."+classNameVal).eq(0).css(initCssRule)
                }else{
                    $("."+classNameVal).eq(0).hide();
                }
            });
            $("."+reflectionClass).remove();
            $("."+currClassName).css(initCssRule);
            $(".graphtranslation_range").remove();
            spotPos={shadow:{},matter:{}};
            $(".spot").removeClass("on").fadeOut();
            return currClassName;
        };


        $sel.on("change",function(){
            var val=$(this).val();
            currClassName=renderInitGraph(Math.abs(val));
            $currGraph=$("."+currClassName);
            $currGraph.off("transitionend").on("transitionend",function(){
                $point.removeAttr("disabled");
            })
            $reflectionGraph=$("<div class='reflection "+currClassName+"'></div>").css(initCssRule).html($currGraph.html());
        }).trigger('change');
        


       
        $moveBtn.on("click",function(){
            $sel.trigger('change');
            var numVal=Math.round($num.val());
            if(!numVal || numVal ==0){
                alert("请输入数值");
                return;
            }
            $reflectionGraph.appendTo($mainBox)
            $currGraph.css({
                transition:"all 1s linear",
                "-webkit-transition":"all 1s liner",
                transform:"translate("+numVal*39.1/24+"em,0)"
            });
        });
        $reset.on("click",function(){
            $sel.trigger('change');
        });
        $(document).on("click",".spot",function(){
            var $this=$(this);
            var dirVal=$this.data("dir");
           if($this.hasClass('on')){
                $this.removeClass('on');
                if($this.parent().hasClass("reflection")){
                    spotPos.shadow["dir"+dirVal]="";
                }else{
                    spotPos.matter["dir"+dirVal]="";
                }
           }else{
                $this.addClass('on');
                if($this.parent().hasClass("reflection")){
                    spotPos.shadow["dir"+dirVal]=dirVal;
                }else{
                    spotPos.matter["dir"+dirVal]=dirVal;
                }
           }
           $.each(spotPos.shadow,function(index1,val1){
                $.each(spotPos.matter,function(index2,val2){
                    if(index1==index2 &&val1==val2){
                        var strArr=[];
                        strArr.push('<div class="graphtranslation_range">')
                        for(var i=0;i<Math.round($num.val());i++){
                            strArr.push('<span></span>')
                        }
                        strArr.push("</div>");

                        $(strArr.join("")).css({
                            left:"8.3em",
                            top:"4.8em",
                            transform:"translate(0,0)",
                            display:"block"
                        }).width(Math.round($num.val()*39.1/24+"em")).appendTo($mainBox);
                    }
                })
           })      
        })
        $point.on("click",function(){
            $reflectionGraph.find('.spot').fadeIn();
            $currGraph.find(".spot").fadeIn();
        })
        
    })


</script>
<!-- ***********测试代码请删除 end ************* -->










